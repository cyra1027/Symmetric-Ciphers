<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symmetric Ciphers</title>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div class="container">
        <h1>Symmetric Ciphers</h1>
        <div class="cipher-selection">
            <label for="cipher-select">Choose a Cipher:</label>
            <select id="cipher-select">
                <option value="">Select Cipher</option>
                <option value="caesar">Caesar Cipher</option>
                <option value="vigenere">Vigen√®re Cipher</option>
                <option value="singlecolumnar">Single Columnar Cipher</option>
                <option value="doublecolumnar">Double Columnar Cipher</option>
                <option value="aes">AES Cipher</option>
            </select>
        </div>

        <div class="cipher-form">
            <label for="input-text">Text to Encrypt/Decrypt:</label>
            <input type="text" id="input-text" placeholder="Enter text">

            <label for="key" id="key-label">Key:</label>
            <input type="text" id="key" placeholder="Enter key">

            <!-- Shift input field for Caesar Cipher only -->
            <label for="shift" id="shift-label" style="display:none;">Shift:</label>
            <input type="number" id="shift" placeholder="Enter shift" style="display:none;">

            <!-- Key2 input field for Double Columnar Cipher -->
            <label for="key2" id="key2-label" style="display:none;">Key 2:</label>
            <input type="text" id="key2" placeholder="Enter second key" style="display:none;">

            <!-- AES Key Length Selection -->
            <label for="aes-key-length" id="aes-key-length-label" style="display:none;">AES Key Length:</label>
            <select id="aes-key-length" style="display:none;">
                <option value="128">128 bits</option>
                <option value="192">192 bits</option>
                <option value="256">256 bits</option>
            </select>

            <button onclick="processEncrypt()">Encrypt</button>
            <button onclick="processDecrypt()">Decrypt</button> 
            <button onclick="refreshPage()">Clear</button>

            <h2>Result:</h2>
            <p id="result"></p>
        </div>
    </div>
    <script src="./js/caesar.js"></script>
    <script src="./js/vigenere.js"></script>
    <script src="./js/main.js"></script>
    <script src="./js/singleColumnar.js"></script>
    <script src="./js/doubleColumnar.js"></script>
    <script src="./js/aes.js"></script>





<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>
    <script>
        function refreshPage() {
      location.reload(); // Refresh the page
    }
     
    
        // Process Encrypt based on selected cipher
        function processEncrypt() {
            const cipherSelect = document.getElementById('cipher-select').value;
            const inputText = document.getElementById('input-text').value;
            const key = document.getElementById('key').value;
            let result = '';

            switch (cipherSelect) {
                case 'caesar':
                    const shift = parseInt(document.getElementById('shift').value);
                    result = caesarCipher(inputText, shift);
                    break;
                case 'vigenere':
                    result = vigenereCipher(inputText, key);
                    break;
                case 'singlecolumnar':
                    result = columnarCipherEncrypt(inputText, key);
                    break;
                case 'doublecolumnar':
                    const key2 = document.getElementById('key2').value;
                    result = columnarCipherEncrypt(inputText, key);
                    break;
                case 'aes':
                    result = aesEncrypt(inputText, key);  // Using the AES encryption function
                    break;
                default:
                    result = 'Please select a cipher method.';
            }

            document.getElementById('result').textContent = `Encrypted Text: ${result}`;
        }

        // Process Decrypt based on selected cipher
        function processDecrypt() {
            const cipherSelect = document.getElementById('cipher-select').value;
            const inputText = document.getElementById('input-text').value;
            const key = document.getElementById('key').value;
            let result = '';

            switch (cipherSelect) {
                case 'caesar':
                    const shift = parseInt(document.getElementById('shift').value);
                    result = caesarCipher(inputText, -shift);  // Decrypt by reversing the shift
                    break;
                case 'vigenere':
                    result = vigenereCipher(inputText, key, true);
                    break;
                case 'singlecolumnar':
                    result = columnarCipherDecrypt(inputText, key);
                    break;
                case 'doublecolumnar':
                    const key2 = document.getElementById('key2').value;
                    result = doubleColumnarCipherDecrypt(inputText, key, key2);
                    break;
                case 'aes':
                    result = aesDecrypt(inputText, key);
                    break;
                default:
                    result = 'Please select a cipher method.';
            }

            document.getElementById('result').textContent = `Decrypted Text: ${result}`;
        }

        // Update form fields based on selected cipher
        document.getElementById('cipher-select').addEventListener('change', function () {
            const cipherSelect = this.value;

            // Show/Hide appropriate input fields based on cipher selected
            document.getElementById('shift-label').style.display = (cipherSelect === 'caesar') ? 'block' : 'none';
            
            document.getElementById('shift').style.display = (cipherSelect === 'caesar') ? 'block' : 'none';
            document.getElementById('key-label').style.display = (cipherSelect === 'caesar') ? 'none' : 'block';
            
            document.getElementById('key').style.display = (cipherSelect === 'caesar') ? 'none' : 'block';
            document.getElementById('key2-label').style.display = (cipherSelect === 'doublecolumnar') ? 'block' : 'none';
            document.getElementById('key2').style.display = (cipherSelect === 'doublecolumnar') ? 'block' : 'none';

            document.getElementById('aes-key-length-label').style.display = (cipherSelect === 'aes') ? 'block' : 'none';
            document.getElementById('aes-key-length').style.display = (cipherSelect === 'aes') ? 'block' : 'none';
        });
    </script>
</body>
</html>